<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <title>Prolog –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä</title>
  <style>
    /* –û—Å–Ω–æ–≤–Ω–∏ —Å—Ç–∏–ª–æ–≤–µ */
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f5f7fa;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      box-sizing: border-box;
      color: #2c3e50;
    }

    h2 {
      font-size: 36px;
      color: #2980b9;
      margin-top: 40px;
      text-align: center;
      font-weight: bold;
    }

    h3 {
      color: #34495e;
      font-size: 28px;
      margin-bottom: 15px;
      font-weight: normal;
    }

    p, ul {
      font-size: 18px;
      line-height: 1.6;
      color: #2c3e50;
    }

    /* –§–æ—Ä–º–∞—Ç –Ω–∞ –±—É—Ç–æ–Ω–∏—Ç–µ */
    input[type="file"], button {
      padding: 14px 22px;
      margin: 15px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
      width: 200px;
    }

    input[type="file"] {
      background-color: #ecf0f1;
      color: #34495e;
      border: 2px dashed #3498db;
      text-align: center;
    }

    input[type="file"]:hover {
      border-color: #2980b9;
    }

    button {
      background-color: #3498db;
      color: white;
    }

    button:hover {
      background-color: #2980b9;
    }

    /* Output —Å–µ–∫—Ü–∏—è */
    #output {
      background-color: #fff;
      padding: 30px;
      margin-top: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      width: 80%;
      max-width: 1100px;
      font-family: 'Courier New', Courier, monospace;
      white-space: pre-wrap;
      line-height: 1.8;
      font-size: 16px;
    }

    .fact { color: #e74c3c; }
    .rule { color: #2980b9; }
    .comment { color: #27ae60; }

    /* –°—Ç–∏–ª–æ–≤–µ –∑–∞ —Å–µ–∫—Ü–∏–∏—Ç–µ */
    section {
      background-color: #fff;
      padding: 30px;
      border-radius: 12px;
      margin: 30px 0;
      width: 80%;
      max-width: 1100px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.5s ease-out;
    }

    section h3 {
      margin-bottom: 15px;
      color: #2980b9;
      font-weight: 600;
    }

    ul {
      list-style: none;
      padding-left: 20px;
    }

    li {
      margin-bottom: 12px;
      font-size: 18px;
    }

    /* –°—Ç–∏–ª–æ–≤–µ –∑–∞ —Å—Ç—ä–ø–∫–∏—Ç–µ */
    .step {
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    .step-number {
      font-size: 20px;
      font-weight: bold;
      color: #3498db;
    }

    .step-description {
      margin-top: 10px;
      color: #2c3e50;
      font-size: 16px;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞ –ø–ª–∞–≤–Ω–æ –≤–ª–∏–∑–∞–Ω–µ */
    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* –°—Ç–∏–ª–æ–≤–µ –∑–∞ –º–∞–ª–∫–∏ –µ–∫—Ä–∞–Ω–∏ */
    @media (max-width: 768px) {
      body {
        padding: 20px;
      }

      h2 {
        font-size: 28px;
      }

      h3 {
        font-size: 24px;
      }

      section {
        width: 100%;
        padding: 20px;
      }

      input[type="file"], button {
        width: 100%;
        padding: 12px 18px;
        font-size: 14px;
      }

      #output {
        width: 100%;
        padding: 20px;
      }
    }
  </style>
</head>
<body>

  <h2>üß† Prolog –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä</h2>
  <input type="file" id="fileInput" accept=".pl">
  <button id="loadExample">–ó–∞—Ä–µ–¥–∏ –ø—Ä–∏–º–µ—Ä</button>
  <button id="clearBtn">–ò–∑—á–∏—Å—Ç–∏</button>

  <div id="output"></div>

  <!-- –°–µ–∫—Ü–∏—è –∑–∞ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -->
  <section>
    <h3>üìò –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏ —Ç–æ–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç?</h3>
    <p>–¢–æ–∑–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –¥–∞ –∫–∞—á–∏—à <strong>Prolog —Ñ–∞–π–ª (.pl)</strong> –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:</p>
    <ul>
      <li>üìå –†–∞–∑–¥–µ–ª—è <strong>—Ñ–∞–∫—Ç–∏—Ç–µ</strong> (–Ω–∞–ø—Ä. <code>likes(john, pizza).</code>)</li>
      <li>‚öôÔ∏è –ò–∑–≤–ª–∏—á–∞ <strong>–ø—Ä–∞–≤–∏–ª–∞</strong> —Å –ª–æ–≥–∏—á–µ—Å–∫–∏ –≤—Ä—ä–∑–∫–∏ (<code>:-</code>)</li>
      <li>üí¨ –ü–æ–∫–∞–∑–≤–∞ <strong>–∫–æ–º–µ–Ω—Ç–∞—Ä–∏</strong> –æ—Ç –∫–æ–¥–∞ (—Ä–µ–¥–æ–≤–µ, –∑–∞–ø–æ—á–≤–∞—â–∏ —Å <code>%</code>)</li>
    </ul>
    <p>–¶–µ–ª—Ç–∞ –µ –±—ä—Ä–∑ –∞–Ω–∞–ª–∏–∑ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ç–∞ –Ω–∞ Prolog –∫–æ–¥ –±–µ–∑ –Ω—É–∂–¥–∞ –æ—Ç –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–µ–Ω —Å–æ—Ñ—Ç—É–µ—Ä.</p>
  </section>

  <!-- –°–µ–∫—Ü–∏—è —Å—ä—Å —Å—ä–≤–µ—Ç–∏ –∑–∞ –ø–∏—Å–∞–Ω–µ –Ω–∞ Prolog –∫–æ–¥ -->
  <section>
    <h3>üí° –°—ä–≤–µ—Ç–∏ –∑–∞ –ø–∏—Å–∞–Ω–µ –Ω–∞ Prolog –∫–æ–¥</h3>
    <ul>
      <li><strong>1. –ò–∑–ø–æ–ª–∑–≤–∞–π –æ–ø–∏—Å–∞—Ç–µ–ª–Ω–∏ –∏–º–µ–Ω–∞:</strong> –í–º–µ—Å—Ç–æ <code>p(X, Y)</code>, –∏–∑–ø–æ–ª–∑–≤–∞–π <code>parent(X, Y)</code> ‚Äì —Ç–∞–∫–∞ –∫–æ–¥—ä—Ç —Å–µ —á–µ—Ç–µ –ø–æ-–ª–µ—Å–Ω–æ.</li>
      <li><strong>2. –ö–æ–º–µ–Ω—Ç–∏—Ä–∞–π –ª–æ–≥–∏–∫–∞—Ç–∞:</strong> –ò–∑–ø–æ–ª–∑–≤–∞–π <code>%</code>, –∑–∞ –¥–∞ –ø–æ—è—Å–Ω—è–≤–∞—à –∫–∞–∫–≤–æ –ø—Ä–∞–≤–∏ –≤—Å—è–∫–æ –ø—Ä–∞–≤–∏–ª–æ –∏–ª–∏ —Ñ–∞–∫—Ç ‚Äì —Ç–æ–≤–∞ –ø–æ–º–∞–≥–∞ –ø—Ä–∏ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞ –≤ –µ–∫–∏–ø.</li>
      <li><strong>3. –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π —Ç–æ—á–∫–∏—Ç–µ:</strong> –ù–µ –∑–∞–±—Ä–∞–≤—è–π <code>.</code> –≤ –∫—Ä–∞—è –Ω–∞ –≤—Å–µ–∫–∏ —Ñ–∞–∫—Ç –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–æ ‚Äì –ª–∏–ø—Å–∞—Ç–∞ —ù —á–µ—Å—Ç–æ –≤–æ–¥–∏ –¥–æ –≥—Ä–µ—à–∫–∏!</li>
    </ul>
  </section>

  <!-- –°–µ–∫—Ü–∏—è —Å—ä—Å —Å—Ç—ä–ø–∫–∏ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ Prolog –∫–æ–¥ -->
  <section>
    <h3>üìù –ü—Ä–∏–º–µ—Ä–Ω–æ —Ä–µ—à–µ–Ω–∏–µ –∑–∞ Prolog –∫–æ–¥ (–°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞)</h3>
    <div class="step">
      <div class="step-number">–°—Ç—ä–ø–∫–∞ 1:</div>
      <div class="step-description">–ó–∞–ø–æ—á–≤–∞–º–µ —Å –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏ —Ñ–∞–∫—Ç–∏. –ü—Ä–∏–º–µ—Ä: <code>parent(john, mary).</code> –¢–æ–≤–∞ –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ –î–∂–æ–Ω –µ —Ä–æ–¥–∏—Ç–µ–ª –Ω–∞ –ú–µ—Ä–∏.</div>
    </div>
    <div class="step">
      <div class="step-number">–°—Ç—ä–ø–∫–∞ 2:</div>
      <div class="step-description">–°–ª–µ–¥ —Ç–æ–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–º–µ –ø—Ä–∞–≤–∏–ª–∞, –∫–æ–∏—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Ç–µ–∑–∏ —Ñ–∞–∫—Ç–∏. –ü—Ä–∏–º–µ—Ä: <code>grandparent(X, Y) :- parent(X, Z), parent(Z, Y).</code> –¢–æ–≤–∞ –ø—Ä–∞–≤–∏–ª–æ –∫–∞–∑–≤–∞, —á–µ –∞–∫–æ X –µ —Ä–æ–¥–∏—Ç–µ–ª –Ω–∞ Z, –∞ Z –µ —Ä–æ–¥–∏—Ç–µ–ª –Ω–∞ Y, —Ç–æ–≥–∞–≤–∞ X –µ –¥—è–¥–æ/–±–∞–±–∞ –Ω–∞ Y.</div>
    </div>
    <div class="step">
      <div class="step-number">–°—Ç—ä–ø–∫–∞ 3:</div>
      <div class="step-description">–ú–æ–∂–µ–º –¥–∞ –¥–æ–±–∞–≤–∏–º –∫–æ–º–µ–Ω—Ç–∞—Ä–∏ –∑–∞ –ø–æ—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–¥–∞. –ü—Ä–∏–º–µ—Ä: <code>% –¢–æ–≤–∞ –µ –ø—Ä–∞–≤–∏–ª–æ –∑–∞ –¥—è–¥–æ/–±–∞–±–∞</code>.</div>
    </div>
    <div class="step">
      <div class="step-number">–°—Ç—ä–ø–∫–∞ 4:</div>
      <div class="step-description">–ù–µ –∑–∞–±—Ä–∞–≤—è–π—Ç–µ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ –∑–∞ —Å–∏–Ω—Ç–∞–∫—Ç–∏—á–Ω–∏ –≥—Ä–µ—à–∫–∏, –∫–∞—Ç–æ –ª–∏–ø—Å–≤–∞—â–∞ —Ç–æ—á–∫–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–∞–≤–∏–ª–æ.</div>
    </div>
  </section>

  <script>
    const fileInput = document.getElementById('fileInput');
    const outputDiv = document.getElementById('output');
    const clearBtn = document.getElementById('clearBtn');
    const loadExampleBtn = document.getElementById('loadExample');

    function analyze(content) {
      const lines = content.split('\n');
      const facts = [];
      const rules = [];
      const comments = [];

      lines.forEach(line => {
        const trimmed = line.trim();
        if (trimmed.startsWith('%')) {
          comments.push('<span class="comment">' + trimmed + '</span>');
        } else if (trimmed.includes(':-')) {
          rules.push('<span class="rule">' + trimmed + '</span>');
        } else if (trimmed && trimmed.endsWith('.')) {
          facts.push('<span class="fact">' + trimmed + '</span>');
        }
      });

      const output = `
<strong>üìÇ –ê–Ω–∞–ª–∏–∑ –Ω–∞ Prolog —Ñ–∞–π–ª:</strong><br><br>
<strong>üî¥ –§–∞–∫—Ç–∏ (${facts.length}):</strong><br>${facts.join('<br>')}<br><br>
<strong>üîµ –ü—Ä–∞–≤–∏–ª–∞ (${rules.length}):</strong><br>${rules.join('<br>')}<br><br>
<strong>üü¢ –ö–æ–º–µ–Ω—Ç–∞—Ä–∏ (${comments.length}):</strong><br>${comments.join('<br>')}
`;
      outputDiv.innerHTML = output;
    }

    fileInput.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        analyze(e.target.result);
      };
      reader.readAsText(file);
    });

    clearBtn.addEventListener('click', () => {
      fileInput.value = "";
      outputDiv.innerHTML = "";
    });

    loadExampleBtn.addEventListener('click', () => {
      const exampleProlog = `
% –ü—Ä–∏–º–µ—Ä–µ–Ω Prolog –∫–æ–¥
parent(john, mary).
parent(mary, alice).

grandparent(X, Y) :- parent(X, Z), parent(Z, Y).

% –¢–æ–≤–∞ –µ –∫–æ–º–µ–Ω—Ç–∞—Ä
likes(alice, chocolate).
happy(X) :- likes(X, chocolate).
      `;
      analyze(exampleProlog);
    });
  </script>

</body>
</html>
